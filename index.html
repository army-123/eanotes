<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>EA Notes Cloud — Liquid</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

<style>
  /* YOUR ORIGINAL CSS UNTOUCHED EXCEPT VIEWER IMPROVEMENTS */

  /* Full-screen document viewer */
  #docModal {
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    z-index:9999;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  #docBox {
    width:100%;
    height:100%;
    background:#000;
    display:flex;
    flex-direction:column;
  }

  #docTopBar {
    padding:12px 16px;
    background:#111;
    color:white;
    font-size:17px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:1px solid #222;
  }

  #docFrame {
    border:0;
    width:100%;
    height:100%;
    flex:1;
    background:#000;
  }
</style>

</head>
<body>
  <div class="wrap">
    <div class="card">

      <!-- header -->
      <div class="header">
        <div>
          <h1>EA Notes Cloud</h1>
          <div class="sub">Liquid theme — neat, smooth and fast</div>
        </div>
        <div id="headerRight" style="display:flex;align-items:center;gap:8px"></div>
      </div>

      <!-- LOGIN -->
      <div id="loginBox" class="section" aria-live="polite">
        <label for="loginName">Username / Email</label>
        <input id="loginName" type="text" autocomplete="off">

        <label for="loginPassword">Password</label>
        <input id="loginPassword" type="password">

        <button id="btnLogin" class="btn btn-primary" style="margin-top:14px;">
          <span id="btnLoginText">Login</span>
          <span id="btnLoginSpinner" class="spinner-inline" style="display:none"></span>
        </button>

        <div id="loginFeedback" class="muted-small"></div>
      </div>

      <!-- DASHBOARD -->
      <div id="dashboard" class="section" aria-hidden="true">
        <div class="topbar">
          <div>
            <div class="roleTag" id="roleTag">Role</div>
            <div class="sub" id="welcomeText" style="margin-top:6px"></div>
          </div>

          <div class="controls" id="controlsRow">
            <select id="subjectSelect">
              <option>Anatomy</option><option>History</option><option>Geography</option>
              <option>Psychology</option><option>Mathematics</option>
            </select>

            <!-- upload button hidden for students in script.js -->
            <button id="uploadBtn" class="btn btn-primary">Upload</button>
            <input id="realFileInput" type="file" accept=".pdf,.doc,.docx,.ppt,.pptx" style="display:none">

            <button id="logoutBtn" class="btn btn-ghost">Logout</button>
          </div>
        </div>

        <div class="file-list" id="fileList"></div>
      </div>

    </div>
  </div>

  <!-- FULLSCREEN DOCUMENT VIEWER -->
  <div id="docModal">
    <div id="docBox">
      <div id="docTopBar">
        <span id="docTitle"></span>
        <button id="closeDoc" class="btn btn-primary" style="padding:6px 12px;">Close</button>
      </div>
      <iframe id="docFrame"></iframe>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
